---
// Components
import Button from "components/Button.astro";
import OpenStreetMap from "components/OpenStreetMap.astro";

interface Props {
  subtitle: string;
  title: string;
  location: string;
  image: string;
  text: string;
  mapLatitude?: number;
  mapLongitude?: number;
  mapZoom?: number;
  ctaButton?: {
    text: string;
    link: string;
    openInNewTab?: boolean;
  };
}

const { subtitle, title, location, image, text, mapLatitude = 39.9042, mapLongitude = 116.4074, mapZoom = 13, ctaButton } = Astro.props;
---

<section
  class="section section-big-image"
  data-theme-section="light"
  data-bg-section="lightgray"
>
  <div class="container wide" id="venue">
    <div class="row">
      <div class="col">
        <figure>
          <div class="overlay playpause">
            <img src={image} alt="Venue" class="overlay" loading="lazy" />
          </div>

          {
            ctaButton?.text && (
              <div class="col-row col-row-btn">
                <Button
                  text={ctaButton.text}
                  link={ctaButton.link}
                  openInNewTab={ctaButton?.openInNewTab}
                  class="btn light btn-hover xl"
                />
              </div>
            )
          }
        </figure>
      </div>
    </div>
  </div>
</section>

<style>
  .location-flex h2 {
    font-family: 'Manrope', sans-serif;
    font-weight: 700;
    font-size: clamp(2rem, 4vw, 2.5rem);
    line-height: 1.2;
  }

  .location-flex h2 a {
    color: inherit;
    text-decoration: none;
    transition: color 0.3s ease;
    position: relative;
    display: inline-block;
  }

  .location-flex h2 a:hover {
    color: #2B74FF;
  }

  .location-flex h2 a::after {
    content: 'â†—';
    font-size: 0.7em;
    margin-left: 0.3em;
    opacity: 0.7;
    transition: opacity 0.3s ease;
  }

  .location-flex h2 a:hover::after {
    opacity: 1;
  }
</style>

<section
  class="section section-location-info"
  data-theme-section="light"
  data-bg-section="lightgray"
>
  <div class="container wide">
    <div class="row grid">
      <div class="border-bottom"></div>
      <div class="col col-info">
        <div class="location-flex">
          <p>{subtitle}</p>
          <h2><a href="http://renaissancejinmaobeijing.com.cn/" target="_blank" rel="noopener noreferrer">{title}</a></h2>
          <p>{location}</p>
          <div class="col-row">
            <p>{text}</p>
          </div>
        </div>
      </div>
      <div class="col col-text styled-content">

        <div class="col-row">
          <OpenStreetMap
            latitude={mapLatitude}
            longitude={mapLongitude}
            zoom={mapZoom}
            markerTitle={title}
            height="350px"
          />
        </div>
      </div>
    </div>
  </div>
</section>