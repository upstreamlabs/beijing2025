---
interface SellingPoint {
  title: string;
  description: string;
}

interface Props {
  points: SellingPoint[];
  id?: string;
  theme?: 'light' | 'dark';
  background?: 'light' | 'lightgray' | 'dark' | 'primary';
  title?: string;
}

const {
  points,
  id,
  theme = 'light',
  background = 'lightgray',
  title = "在这里，商业的本质被重新定义：不再是依附体系，而是赢得社群。你将掌握AI时代的创作与协作方法，链接你的\"1000个铁杆支持者\"，构建属于自己的\"新美第奇效应\"，让热爱本身成为你最坚实的资产。",
} = Astro.props;
---

<section
  class="section section-selling-points"
  id={id}
  data-theme-section={theme}
  data-bg-section={background}
>
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">{title}</h2>
    </div>
    <div class="selling-points-grid">
      {points.map((point, index) => (
        <div class="selling-point-item" data-index={index}>
            <div class="selling-point-header">
              <div class="selling-point-image">
              {index === 0 && (
              <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#2B74FF;stop-opacity:0.8" />
                    <stop offset="100%" style="stop-color:#00C896;stop-opacity:0.8" />
                  </linearGradient>
                </defs>
                <circle cx="100" cy="100" r="80" fill="url(#grad1)" opacity="0.1">
                  <animate attributeName="r" values="80;85;80" dur="3s" repeatCount="indefinite"/>
                  <animate attributeName="opacity" values="0.1;0.15;0.1" dur="3s" repeatCount="indefinite"/>
                </circle>
                <circle cx="100" cy="100" r="50" fill="none" stroke="url(#grad1)" stroke-width="3" opacity="0.6">
                  <animateTransform attributeName="transform" type="rotate" from="0 100 100" to="360 100 100" dur="20s" repeatCount="indefinite"/>
                </circle>
                <path d="M100 50 L130 85 L110 120 L90 120 L70 85 Z" fill="url(#grad1)" opacity="0.7">
                  <animateTransform attributeName="transform" type="scale" values="1;1.1;1" dur="4s" repeatCount="indefinite" additive="sum"/>
                </path>
                <circle cx="100" cy="100" r="5" fill="#2B74FF">
                  <animate attributeName="r" values="5;7;5" dur="2s" repeatCount="indefinite"/>
                </circle>
              </svg>
              )}
              {index === 1 && (
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                  <defs>
                    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#FFC640;stop-opacity:0.8" />
                      <stop offset="100%" style="stop-color:#2B74FF;stop-opacity:0.8" />
                    </linearGradient>
                  </defs>
                  <circle cx="60" cy="60" r="30" fill="url(#grad2)" opacity="0.2">
                    <animate attributeName="opacity" values="0.2;0.4;0.2" dur="3s" begin="0s" repeatCount="indefinite"/>
                  </circle>
                  <circle cx="140" cy="60" r="30" fill="url(#grad2)" opacity="0.2">
                    <animate attributeName="opacity" values="0.2;0.4;0.2" dur="3s" begin="1s" repeatCount="indefinite"/>
                  </circle>
                  <circle cx="100" cy="140" r="30" fill="url(#grad2)" opacity="0.2">
                    <animate attributeName="opacity" values="0.2;0.4;0.2" dur="3s" begin="2s" repeatCount="indefinite"/>
                  </circle>
                  <path d="M60 60 L140 60 L100 140 Z" fill="none" stroke="url(#grad2)" stroke-width="3" opacity="0.7">
                    <animate attributeName="stroke-dasharray" values="0 200;150 50;0 200" dur="5s" repeatCount="indefinite"/>
                  </path>
                  <circle cx="60" cy="60" r="8" fill="#FFC640">
                    <animate attributeName="r" values="8;12;8" dur="2s" begin="0s" repeatCount="indefinite"/>
                  </circle>
                  <circle cx="140" cy="60" r="8" fill="#FFC640">
                    <animate attributeName="r" values="8;12;8" dur="2s" begin="0.5s" repeatCount="indefinite"/>
                  </circle>
                  <circle cx="100" cy="140" r="8" fill="#FFC640">
                    <animate attributeName="r" values="8;12;8" dur="2s" begin="1s" repeatCount="indefinite"/>
                  </circle>
                </svg>
              )}
              {index === 2 && (
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                  <defs>
                    <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#00C896;stop-opacity:0.8" />
                      <stop offset="100%" style="stop-color:#FFC640;stop-opacity:0.8" />
                    </linearGradient>
                  </defs>
                  <path d="M100 40 C120 40, 140 60, 140 80 C140 100, 130 120, 110 130 L100 180 L90 130 C70 120, 60 100, 60 80 C60 60, 80 40, 100 40 Z" fill="url(#grad3)" opacity="0.7">
                    <animateTransform attributeName="transform" type="translate" values="0,0; 0,-5; 0,0" dur="3s" repeatCount="indefinite"/>
                  </path>
                  <circle cx="100" cy="80" r="15" fill="none" stroke="#00C896" stroke-width="2" opacity="0.8">
                    <animate attributeName="r" values="15;18;15" dur="2s" repeatCount="indefinite"/>
                  </circle>
                  <path d="M90 75 L110 75 M100 65 L100 85" stroke="#FFC640" stroke-width="3" stroke-linecap="round">
                    <animate attributeName="opacity" values="1;0.5;1" dur="1.5s" repeatCount="indefinite"/>
                  </path>
                  <circle cx="85" cy="120" r="8" fill="#2B74FF" opacity="0.6">
                    <animate attributeName="cy" values="120;115;120" dur="2s" begin="0s" repeatCount="indefinite"/>
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" begin="0s" repeatCount="indefinite"/>
                  </circle>
                  <circle cx="115" cy="120" r="8" fill="#2B74FF" opacity="0.6">
                    <animate attributeName="cy" values="120;115;120" dur="2s" begin="0.5s" repeatCount="indefinite"/>
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" begin="0.5s" repeatCount="indefinite"/>
                  </circle>
                  <path d="M85 120 L100 135 L115 120" stroke="#2B74FF" stroke-width="2" fill="none">
                    <animate attributeName="opacity" values="0;1;0" dur="2.5s" repeatCount="indefinite"/>
                  </path>
                </svg>
              )}
              {index === 3 && (
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                  <defs>
                    <linearGradient id="grad4" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#2B74FF;stop-opacity:0.8" />
                      <stop offset="100%" style="stop-color:#FFC640;stop-opacity:0.8" />
                    </linearGradient>
                  </defs>
                  <rect x="40" y="40" width="120" height="120" rx="20" fill="url(#grad4)" opacity="0.1">
                    <animate attributeName="opacity" values="0.1;0.2;0.1" dur="4s" repeatCount="indefinite"/>
                  </rect>
                  <rect x="60" y="60" width="80" height="80" rx="15" fill="none" stroke="url(#grad4)" stroke-width="3" opacity="0.6">
                    <animate attributeName="stroke-width" values="3;5;3" dur="3s" repeatCount="indefinite"/>
                  </rect>
                  <circle cx="100" cy="100" r="20" fill="url(#grad4)" opacity="0.7">
                    <animate attributeName="r" values="20;25;20" dur="2.5s" repeatCount="indefinite"/>
                  </circle>
                  <path d="M90 95 L110 95 M100 85 L100 105" stroke="white" stroke-width="3" stroke-linecap="round">
                    <animate attributeName="stroke-width" values="3;5;3" dur="2s" repeatCount="indefinite"/>
                  </path>
                  <circle cx="100" cy="100" r="35" fill="none" stroke="url(#grad4)" stroke-width="2" opacity="0.4" stroke-dasharray="5,5">
                    <animateTransform attributeName="transform" type="rotate" from="0 100 100" to="360 100 100" dur="15s" repeatCount="indefinite"/>
                    <animate attributeName="stroke-dashoffset" values="0;-10" dur="1s" repeatCount="indefinite"/>
                  </circle>
                </svg>
              )}
              </div>
            </div>
          <div class="selling-point-content">
            <h3 class="selling-point-title">{point.title}</h3>
            <p class="selling-point-description">{point.description}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .section-selling-points {
    padding: clamp(4rem, 10vw, 7rem) 0;
    position: relative;
    overflow: hidden;
  }

  .section-selling-points::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 20% 20%, rgba(43, 116, 255, 0.08), transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 198, 64, 0.08), transparent 50%);
    pointer-events: none;
  }

  .container {
    position: relative;
    z-index: 1;
  }

  .section-header {
    text-align: left;
    margin-bottom: clamp(3rem, 6vw, 4.5rem);
  }

  .section-title {
    font-size: clamp(1.1rem, 2vw, 1.4rem);
    font-weight: 500;
    margin: 0 0 1rem;
    color: #0d1c3a;
    font-family: 'Manrope', sans-serif;
    line-height: 1.6;
  }

  [data-theme-section="dark"] .section-title {
    color: rgba(255, 255, 255, 0.95);
  }

  .section-subtitle {
    font-size: clamp(1.1rem, 2vw, 1.35rem);
    color: rgba(13, 28, 58, 0.7);
    margin: 0;
  }

  [data-theme-section="dark"] .section-subtitle {
    color: rgba(255, 255, 255, 0.7);
  }

  .selling-points-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: clamp(1.5rem, 3vw, 2.5rem);
  }

  .selling-point-item {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    padding: 2rem;
    border-radius: 16px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
    border: 2px solid transparent;
    backdrop-filter: blur(10px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    align-items: center;
    height: 320px;
  }

  .selling-point-item::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 16px;
    padding: 2px;
    background: linear-gradient(135deg, rgba(43, 116, 255, 0.2), rgba(255, 198, 64, 0.2));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.4s ease;
  }

  [data-theme-section="dark"] .selling-point-item {
    background: linear-gradient(135deg, rgba(28, 29, 36, 0.9), rgba(28, 29, 36, 0.7));
  }

  .selling-point-item:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 20px 40px rgba(43, 116, 255, 0.15),
                0 10px 20px rgba(43, 116, 255, 0.1);
  }

  .selling-point-item:hover::before {
    opacity: 1;
  }

  [data-theme-section="dark"] .selling-point-item:hover {
    box-shadow: 0 20px 40px rgba(43, 116, 255, 0.3),
                0 10px 20px rgba(43, 116, 255, 0.2);
  }

  .selling-point-title {
    font-size: clamp(1.2rem, 1.8vw, 1.4rem);
    font-weight: 700;
    margin: 0 0 1rem;
    color: #2b74ff;
    position: relative;
    display: inline-block;
    font-family: 'Manrope', sans-serif;
    line-height: 1.3;
  }

  .selling-point-title::after {
    content: "";
    position: absolute;
    bottom: -0.25rem;
    left: 0;
    width: 0;
    height: 3px;
    background: linear-gradient(90deg, #2b74ff, #ffc640);
    border-radius: 2px;
    transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .selling-point-item:hover .selling-point-title::after {
    width: 100%;
  }

  [data-theme-section="dark"] .selling-point-title {
    color: #5b9eff;
  }

  .selling-point-description {
    font-size: clamp(1.05rem, 1.8vw, 1.25rem);
    line-height: 1.7;
    color: rgba(13, 28, 58, 0.85);
    margin: 0;
    font-family: 'Inter', 'Source Han Serif CN VF', 'Source Han Serif SC', 'Source Han Serif', 'Noto Serif CJK SC', sans-serif;
  }

  [data-theme-section="dark"] .selling-point-description {
    color: rgba(255, 255, 255, 0.85);
  }

  .selling-point-header {
    display: flex;
    justify-content: center;
    margin-bottom: 1rem;
  }

  .selling-point-image {
    flex-shrink: 0;
    width: 120px;
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .selling-point-image svg {
    width: 100%;
    height: 100%;
    transition: transform 0.4s ease;
  }

  .selling-point-item:hover .selling-point-image svg {
    transform: scale(1.1) rotate(5deg);
  }

  .selling-point-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
  }

  
  @media (max-width: 768px) {
    .selling-points-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .selling-point-item {
      padding: 1.5rem;
      gap: 1.5rem;
      height: 280px;
    }

    .selling-point-image {
      width: 100px;
      height: 100px;
    }

    .selling-point-item:hover .selling-point-image svg {
      transform: scale(1.05);
    }

    .selling-point-title {
      font-size: 1.15rem;
      margin-bottom: 0.75rem;
    }

    .selling-point-description {
      font-size: 1.05rem;
    }
  }
</style>